<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <title>Изменить магазин</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/litera.css}" href="../../css/main.css" />
</head>

<body>
    <div th:with="frag=~{parts/navbar.html}">
        <span th:insert="${frag}" />
    </div>
    <div class="container mt-2">

        <div class="page-header" id="banner">
            <div class="row">
                <div class="col-lg-8 col-md-7 col-sm-6">
                    <h2>Изменить магазин ID=<span th:utext="${shop.getShopID()}"></span></h2>
                    <br>
                </div>
            </div>
        </div>

        <form th:action="@{/shops/update/{id}(id=${shop.getShopID()})}" method="POST" enctype="multipart/form-data">
            <label for="shopAddress">Адрес</label><br>
            <input type="text" class="form-control" id="shopAddress" name="shopAddress" th:value="${shop.getAddress()}"><br>
            <label for="shopName">Магазин</label><br>
            <input type="text" class="form-control" id="shopName" name="shopName" th:value="${shop.getName()}"><br>
            <label for="userId">Продавец</label><br>
            <select class="form-control" id="userId" name="userId">
                <option th:if="${shop.getUserId() == null}"></option>
                <option th:if="${shop.getUserId() == null}" th:each="user : ${users}" th:value="${user.getUserId()}" th:text="${user.getUserName()}">
                </option>
                <option th:if="${shop.getUserId() != null}" th:each="user : ${users}" th:value="${user.getUserId()}" th:text="${user.getUserName()}"
                        th:selected="${shop.getUserId().getUserId() == user.getUserId()}">
                </option>
            </select><br>

            <label for="file">Выбрать изображение</label>
            <input type="file" id="file" name="file">

            <input class="btn btn-success" type="submit" value="Сохранить">
        </form><br>

        <footer id="footer">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="list-unstyled">
                        <li><a class="btn btn-primary" href="/shops/all" th:href="@{/shops/all}">
                                < К списку магазинов</a>
                        </li>&nbsp;
                    </ul>
                </div>
            </div>
        </footer>
    </div>
</body>

</html>
